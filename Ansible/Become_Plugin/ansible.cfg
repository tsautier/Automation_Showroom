# Ansible Configuration for WALLIX Bastion with custom become plugin

[defaults]
# Specify the location of custom plugins
become_plugins = ./

# Other common settings
host_key_checking = False
inventory = inventory.ini

# Force the use of bash instead of sh
executable = /bin/bash

# Ask for SSH password (wabadmin password for initial SSH connection)
ask_pass = False  # Set to True if you don't use SSH keys

[privilege_escalation]
# Enable privilege escalation (can be overridden per task)
become = False

# Use the custom WALLIX super become plugin
become_method = wallix_super

# Path to WABSuper Python wrapper (uses environment variable for password)
# Copy wabsuper-wrapper.py to the bastion at /tmp/ before running playbooks
become_exe = /tmp/wabsuper-wrapper.py

# Default become user is defined in the plugin
# Override per task with ansible_become_user variable

# Ask for become password (set to False when using password variables)
become_ask_pass = False

[ssh_connection]
# SSH connection settings for WALLIX Bastion
# Default SSH port for WALLIX Bastion
ssh_port = 2242

# SSH timeout
timeout = 30

# Pipelining MUST be disabled for wallix_super become method
# because it uses stdin for password (incompatible with pipelining)
pipelining = False
